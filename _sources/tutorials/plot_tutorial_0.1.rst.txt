
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "tutorials/plot_tutorial_0.1.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_tutorials_plot_tutorial_0.1.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_tutorials_plot_tutorial_0.1.py:


Tutorial 0.1: Hello World
===========================

The same as Tutorial 0.0, but way more pythonic

.. GENERATED FROM PYTHON SOURCE LINES 10-14

Imports
------------------------

pyb2d is imported as `b2d`

.. GENERATED FROM PYTHON SOURCE LINES 14-18

.. code-block:: default

    import b2d
    import numpy as np









.. GENERATED FROM PYTHON SOURCE LINES 19-21

These imports are only needed for plotting.
`b2d.plot` requires OpenCV to be installed!

.. GENERATED FROM PYTHON SOURCE LINES 21-26

.. code-block:: default


    import b2d.plot
    import matplotlib.pyplot as plt









.. GENERATED FROM PYTHON SOURCE LINES 27-30

The first step with Box2D is the creation
of the world. The world is parametrized by a gravity
vector.

.. GENERATED FROM PYTHON SOURCE LINES 30-34

.. code-block:: default


    # the world
    world = b2d.world(gravity=(0, -10))








.. GENERATED FROM PYTHON SOURCE LINES 35-36

Create a circle-shaped body

.. GENERATED FROM PYTHON SOURCE LINES 36-43

.. code-block:: default


    # create the dynamic body
    body = world.create_dynamic_body(
        position=(0, 0),
        fixtures=b2d.fixture_def(shape=b2d.circle_shape(radius=1), density=1),
    )








.. GENERATED FROM PYTHON SOURCE LINES 44-48

We can now have a look at the world:
We render the world st. each meter
in the Box2D world will be 100 pixels
in the image:

.. GENERATED FROM PYTHON SOURCE LINES 48-52

.. code-block:: default

    pixels_per_meter = 100
    b2d.plot.plot_world(world, ppm=pixels_per_meter)
    plt.show()




.. image-sg:: /tutorials/images/sphx_glr_plot_tutorial_0.1_001.png
   :alt: plot tutorial 0.1
   :srcset: /tutorials/images/sphx_glr_plot_tutorial_0.1_001.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 53-58

Lets run the world for a total of 5 seconds.
Usually one wants to run the world at
a certain frame rate. With the frame rate and
the total time we can compute the delta for
each iteration and how many steps we need

.. GENERATED FROM PYTHON SOURCE LINES 58-64

.. code-block:: default

    t = 5
    fps = 40
    dt = 1.0 / fps
    n_steps = int(t / dt + 0.5)
    print(f"t={t} fps={fps} dt={dt} n_steps={n_steps}")





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    t=5 fps=40 dt=0.025 n_steps=200




.. GENERATED FROM PYTHON SOURCE LINES 65-67

in each step we query the bodies position
and velocity and store then for later plotting

.. GENERATED FROM PYTHON SOURCE LINES 67-72

.. code-block:: default


    positions = np.zeros([n_steps, 2])
    velocites = np.zeros([n_steps, 2])
    timepoints = np.zeros([n_steps])








.. GENERATED FROM PYTHON SOURCE LINES 73-74

do it

.. GENERATED FROM PYTHON SOURCE LINES 74-88

.. code-block:: default

    t_elapsed = 0.0
    for i in range(n_steps):

        # get the bodies center of mass
        positions[i, :] = body.world_center

        # get the bodies velocity
        velocites[i, :] = body.linear_velocity

        timepoints[i] = t_elapsed

        world.step(time_step=dt, velocity_iterations=1, position_iterations=1)
        t_elapsed += dt








.. GENERATED FROM PYTHON SOURCE LINES 89-92

plot the y-position against the time.
We can see that the body is falling
down in an accelerating way:

.. GENERATED FROM PYTHON SOURCE LINES 92-96

.. code-block:: default

    plt.plot(timepoints, positions[:, 1])
    plt.show()





.. image-sg:: /tutorials/images/sphx_glr_plot_tutorial_0.1_002.png
   :alt: plot tutorial 0.1
   :srcset: /tutorials/images/sphx_glr_plot_tutorial_0.1_002.png
   :class: sphx-glr-single-img





.. GENERATED FROM PYTHON SOURCE LINES 97-99

as expected the x position is not changing since
the gravity vector is non-zero only in the x direction

.. GENERATED FROM PYTHON SOURCE LINES 99-101

.. code-block:: default

    plt.plot(timepoints, positions[:, 0])
    plt.show()



.. image-sg:: /tutorials/images/sphx_glr_plot_tutorial_0.1_003.png
   :alt: plot tutorial 0.1
   :srcset: /tutorials/images/sphx_glr_plot_tutorial_0.1_003.png
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.231 seconds)


.. _sphx_glr_download_tutorials_plot_tutorial_0.1.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_tutorial_0.1.py <plot_tutorial_0.1.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_tutorial_0.1.ipynb <plot_tutorial_0.1.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
